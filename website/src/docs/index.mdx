import preval from 'babel-plugin-preval/macro';
import { ExampleRendered } from '../components/ExampleRendered';

A simple responsive and accessible react modal.

- Focus trap inside the modal.
- Centered modals.
- Scrolling modals.
- Multiple modals.
- Accessible modals.
- Easily customizable via props.

## Installation

Inside your project directory, install react-responsive-modal by running the following:

```sh
npm install react-responsive-modal --save
# Or with yarn
yarn add react-responsive-modal
```

## Usage

[![Edit react-responsive-modal](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/9jxp669j2o)

```javascript
import React, { useState } from 'react';
import ReactDOM from 'react-dom';
import 'react-responsive-modal/styles.css';
import { Modal } from 'react-responsive-modal';

const App = () => {
  const [open, setOpen] = useState(false);

  const onOpenModal = () => setOpen(true);
  const onCloseModal = () => setOpen(false);

  return (
    <div>
      <button onClick={onOpenModal}>Open modal</button>
      <Modal open={open} onClose={onCloseModal} center>
        <h2>Simple centered modal</h2>
      </Modal>
    </div>
  );
};

ReactDOM.render(<App />, document.getElementById('app'));
```

- If you are using Next.js, you need to import the styles in `pages/_app.js` or `pages/_app.tsx`.
- If you are using Create React App, you need to import the styles in `index.js` or `index.tsx`.

### Multiple modals

You can render multiple modals at the same time. Clicking on the overlay or pressing "esc" will only close the last modal.

<ExampleRendered name="multiple" />

```js file=../examples/Multiple.tsx

```

### Modal with a lot of content

When a modal with a content overflowing the window size, you can scroll the content of the modal but you will see that the body scroll is locked until you actually close the modal.

<ExampleRendered name="longContent" />

```js file=../examples/LongContent.tsx

```

### Focus Trapped modal

By default, when the modal open, the first focusable element will be focused. Press Tab to navigate between the focusable elements in the modal. You can notice that when the modal is open, you can't focus the elements outside of it.
If you want to disable this behavior, set the `focusTrapped` prop to `false`.

### Custom styling with css

Customising the Modal style via css is really easy. For example if you add the following css to your app you will get the following result:

```css
/* examples/custom-styling.css */
.customOverlay {
  background: rgba(36, 123, 160, 0.7);
}
.customModal {
  background: #b2dbbf;
  max-width: 500px;
  width: 100%;
}
```

### Custom animation

If you want to change the default animation, you can do so by creating your own css animation. For example if you add the following css to your app you will get the following result:

```css
/* examples/custom-animation.css */
@keyframes customEnterAnimation {
  0% {
    transform: scale(0);
  }
  100% {
    transform: scale(1);
  }
}
@keyframes customLeaveAnimation {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
```

If you want to apply a custom animation to the modal body you can do like this:

### Using a custom close icon

You can customise the close icon used by the Modal by providing your own image or svg.

### Using a custom container

By default, the Modal will be rendered at the end of the html body tag. If you want to render the Modal in your own container, you can pass your own Element to the container prop.

## Accessibility

- Use the `aria-labelledby` and `aria-describedby` props to follow the [ARIA best practices](https://www.w3.org/TR/wai-aria-practices/#dialog_modal).

```javascript
<Modal
  open={open}
  onClose={onCloseModal}
  aria-labelledby="my-modal-title"
  aria-describedby="my-modal-description"
>
  <h2 id="my-modal-title">My Title</h2>
  <p id="my-modal-description">My Description</p>
</Modal>
```

- `aria-modal` is set to true automatically.
- When the modal is open the focus is trapped within it.
- Clicking on the overlay closes the Modal.
- Pressing the "Esc" key closes the Modal.
- When the modal is open the page scroll is blocked for the elements behind the modal.
- Closing the modal will unblock the scroll.
- The modal is rendered in a portal at the end of the `body`.

## Props

TODO

| Name      | Type     | Default | Description      |
| --------- | -------- | ------- | ---------------- |
| **src\*** | `string` |         | Url of the media |

## License

react-responsive-modal is licensed under the [MIT license](https://github.com/pradel/react-responsive-modal/blob/master/LICENSE).
